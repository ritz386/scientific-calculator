<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Mathematical Calculator with Ten Variables</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            font-size: 9px;
        }
        input, output, textarea {
            display: block;
            margin: 0 px 0;
            padding: 5px;
            width: 300px;
            font-size: 11px;
        }
        output {
            border: 1px solid #ccc;
            width: 300 px;
            height: 15px;         
        }
        .notes-field {
            width: 350px;
            height: 100px;
            border: 1px solid #ccc;
            padding: 5px;
            font-size: 10px;
            resize: vertical;
            overflow: auto;
        }
        .variable-input {
            display: flex;
            gap: 3px;
            margin-bottom: 1px;
        }
        .variable-input input {
            width: 80px;
        }
        .calculation-group {
            margin-bottom: 10px;
        }
        .expression-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .result-input {
            width: 120px;
            height: 20px;
            font-size: 12px;
        }
        #addCalculatorBtn {
            margin: 2px 0;
            padding: 8px 16px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        #addCalculatorBtn:hover {
            background-color: #45a049;
        }
         /* Unit Converter Modal Styles */
        #unitConverterModal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 120%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            overflow: auto;
        }
        #unitConverterContent {
            background-color: #f5f5f5;
            margin: 10px auto;
            padding: 10px;
            border-radius: 8px;
            width: 90%;
            max-width: 800px;
            position: relative;
        }
        #closeUnitConverter {
            position: absolute;
            top: 2px;
            right: 5px;
            background: #ff4444;
            color: white;
            border: none;
            border-radius: 100%;
            width: 30px;
            height: 30px;
            font-weight: bold;
            cursor: pointer;
        }
        .converter-section {
            margin-bottom: 10px;
            background-color: white;
            padding: 1px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            font-size: 1.3em;
        }
        .converter-section h2 {
            margin-top: 0;
            color: #3498db;
            font-size: 1.5em;
            border-bottom: 1px solid #ddd;
            padding-bottom: 2px;
        }
        .converter-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
        }
        .input-group {
            display: flex;
            align-items: center;
            gap: 8px;

        }
        .input-group input[type="number"] {
            padding: 6px;
            width: 120px;
            border: 1px solid #ddd;
            border-radius: 4px;
           font-size: 1.3em;
        }
        .input-group select {
            padding: 6px;
            min-width: 150px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: white;
        }
        .input-group button {
            padding: 6px 12px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.7em;
        }
        .input-group button:hover {
            background-color: #2980b9;
        }
        .result {
            font-weight: bold;
            color: #2c3e50;
            margin-left: 11px;
             font-size: 1.5em;

        }
    </style>
</head>
<body>
    <img src="title.jpg" alt="Math Tool Box">
<br>
    <font size="3"><i>for scientific, engineering, and day-to-day calculations </i> <font size="5"><b>&#9881</b></font><font size="5"><b>&#9787</b></font><font size="5"><b>&#9786</b></font></font><br>

<br> <font size="2" color="#0000FF"><font size="5"><b>&#9787</b></font>Example equations: <b>PV = nRT</b> (ideal gas law), <b>Net present value = Rt/(1+i)^t</b>, etc.</font>
    <br> <font size="2" color="#0000FF"> List of equations: chemistry, physics, statistics, engineering, economics. (to be updated) </font>
    <br>
 
   
    <!-- Container for all calculators -->
    <div id="calculatorsContainer">
        <!-- First Calculation Group -->
        <div class="calculation-group">
            <div class="expression-container">
                <label for="inputField1"><font size="3"><b><i>Calculator:</i></b></font></label>
                <input type="text" class="result-input" id="resultField1" placeholder="variable name (e.g. P)">
                 <input type="text" placeholder="Notes (e.g. P means pressure)">
            </div>         
            <input type="text" id="inputField1" placeholder="a function (e.g. n*R*T/V)" style="height: 30px;"> 
            <font color="#800080" size="2">syntax: for log use <b>logx(y)</b> where x is the base, <b>pi</b> returns the 
value of pi, <b>e</b> returns the value of exponential<br> <b>sin-1(x)</b> returns sin inverse of x, <b>provide angles in degrees in trigonometric calculations</b></font>
            <br>
            <label for="outputField1"><font size="2" color="#FF0000"><b>Result:</b></font></label>
            <output id="outputField1">0</output>   
        </div>

        <!-- Second Calculation Group -->
        <div class="calculation-group">
            <div class="expression-container">
                <label for="inputField2"><font size="3"><b><i>Calculator:</i></b></font></label>
                <input type="text" class="result-input" id="resultField2" placeholder="variable name">
                <input type="text" placeholder="Notes">

            </div>
            <input type="text" id="inputField2" placeholder="e.g., x! + y * sin(z) + log2(a) + b - c + d - e + f + g" style="height: 30px;">
            <label for="outputField2"><font size="3" color="#FF0000"><b>Result:</b></font></label>
            <output id="outputField2">0</output>
        </div>
    </div>

    <!-- Add Calculator Button -->
    <button id="addCalculatorBtn">Add More Calculators Above</button>

 <br>

 <font size="2"><b><i>Enter variable names and values with <u><font color="#FF0000">consistent units</font></u></i></b></font>
    <button onclick="showUnitConverter()" style="margin-left:10px; padding:5px 10px; background:#3498db; color:white; border:none; border-radius:4px; cursor:pointer;">Click for unit converter</button>


    <!-- Variable Input Fields -->
    <div class="variable-input">
        <input type="text" id="variableName1" placeholder="V"><font size="4">:</font>
        <input type="text" id="variableValue1" placeholder="value (e.g., 10)">
        <input type="text" id="unit" placeholder="unit">        
        <font color="#0000A0">The 7 SI units: Second (s, time), metre (m, length), kilogram (kg, mass),<br>
            ampere (A, electric current), kelvin (K, thermodynamic temperature),<br> 
            mole (mol, amount of substance), and candela (cd, luminous intensity).</font>
    </div>

    <div class="variable-input">
        <input type="text" id="variableName2" placeholder="n"><font size="4">:</font>
        <input type="text" id="variableValue2" placeholder="value (e.g., 2)">
        <input type="text" id="unit" placeholder="unit">
        1 mile = 1760 yards (1.6093 km) <br>
        1 yard = 3 feet <br>
        1 furlong = 220 yard (201.168 meter)
    </div>

    <div class="variable-input">
        <input type="text" id="variableName3" placeholder="R"><font size="4">:</font>
        <input type="text" id="variableValue3" placeholder="value (e.g., 8.314)">
        <input type="text" id="unit" placeholder="unit">
        1 foot (feet) = 12 inch <br>
        1 inch = 2.54 cm <br>
        1 foot (feet) = 30.48 cm
    </div>

    <div class="variable-input">
        <input type="text" id="variableName4" placeholder="T"><font size="4">:</font>
        <input type="text" id="variableValue4" placeholder="value (e.g., 300)">
        <input type="text" id="unit" placeholder="unit">
        1 hector = 10000 m2 = 107639.147 sqft <br>
        1 m2 = 10,7639 sqft. <br>
        1 hector = 2.471 acre, 1 acre = 43,560 sqft
    </div>

    <div class="variable-input">
        <input type="text" id="variableName5" placeholder=""><font size="4">:</font>
        <input type="text" id="variableValue5" placeholder="">
        <input type="text" id="unit" placeholder=""> 
        1 metric ton = 1000 kg <br>
        1 ton (US) = 2000 pound (907.18 kg) <br>
        1 pound = 16 ounce
    </div>

    <div class="variable-input">
        <input type="text" id="variableName6" placeholder=""><font size="4">:</font>
        <input type="text" id="variableValue6" placeholder="">
        <input type="text" id="unit" placeholder=""> 
        1 pound = 453.592 gm = 0.4536 kg <br>
        1 ounce = 28.3495 gm <br>
        1 kg = 2.2046 pound
    </div>

    <div class="variable-input">
        <input type="text" id="variableName7" placeholder=""><font size="4">:</font>
        <input type="text" id="variableValue7" placeholder="">
        <input type="text" id="unit" placeholder=""> 
        1 decimeter = 10 centimeter<br>
        1 decameter = 10 meter<br>
        1 decigram = 0.1 gram
    </div>

    <div class="variable-input">
        <input type="text" id="variableName8" placeholder=""><font size="4">:</font>
        <input type="text" id="variableValue8" placeholder="">
        <input type="text" id="unit" placeholder=""> 
        1 decagram = 10 gram <br>
        1 deciliter = 100 milliliter <br>
        1 decaliter = 10 liter
    </div>

    <div class="variable-input">
        <input type="text" id="variableName9" placeholder=""><font size="4">:</font>
        <input type="text" id="variableValue9" placeholder="">
        <input type="text" id="unit" placeholder=""> 
        Avogadro's number (Na): 6.022*10^23 mol-1 <br>
        Boltzmann constant (k): 1.380649*10^(-23) m2 kg s-2 K-1 <br>
        Planck's constant (h):  6.62607015*10^(-34) m2 kg / s
    </div>

    <div class="variable-input">
        <input type="text" id="variableName10" placeholder=""><font size="4">:</font>
        <input type="text" id="variableValue10" placeholder="">
         <input type="text" id="unit" placeholder="">
        Elementary charge (c): 1.60217663*10^(-19) coulombs <br>
        Faraday constant (F): 96 485.3321  sA / mol <br>
        The gas constant (R): is 8.314 J / mol·K., to all constants (to be updated)
    </div>

    <!-- Notes Input Field -->
    <div class="calculation-group">
        <label for="notesField">Notes:</label>
        <div id="notesField" class="notes-field" contenteditable="true" placeholder="Write your notes here..."></div>
Advanced scientific calculator,
All purpose scientific calculator,
Excel like calculator
    </div>


 <div class="units-header">
        
        <button id="unitConverterBtn">All Unit Converter</button>
    </div>
    <br>


 <!-- Unit Converter Modal -->
    <div id="unitConverterModal">
        <div id="unitConverterContent">
            <button id="closeUnitConverter" onclick="closeUnitConverter()">×</button>
            <font size="5"><b>Universal Unit Converter</b></font>
<br>
<br>
<br>
            
            <!-- Length Converter -->
            <div class="converter-section">
                <h2>Length Converter</h2>
                <div class="converter-container">
                    <div class="input-group">
                        <input type="number" id="length-value" placeholder="Value" step="any">
                        <select id="length-from">
                            <option value="pm">Picometers (pm)</option>
                            <option value="nm">Nanometers (nm)</option>
                            <option value="μm">Micrometers (μm)</option>
                            <option value="mm">Millimeters (mm)</option>
                            <option value="cm">Centimeters (cm)</option>
                            <option value="dm">Decimeters (dm)</option>
                            <option value="m" selected>Meters (m)</option>
                            <option value="dam">Decameters (dam)</option>
                            <option value="hm">Hectometers (hm)</option>
                            <option value="km">Kilometers (km)</option>
                            <option value="in">Inches (in)</option>
                            <option value="ft">Feet (ft)</option>
                            <option value="yd">Yards (yd)</option>
                            <option value="mi">Miles (mi)</option>
                            <option value="nmi">Nautical Miles (nmi)</option>
                            <option value="ly">Light Years (ly)</option>
                            <option value="au">Astronomical Units (AU)</option>
                            <option value="pc">Parsecs (pc)</option>
                        </select>
                        <span>to</span>
                        <select id="length-to">
                            <option value="pm">Picometers (pm)</option>
                            <option value="nm">Nanometers (nm)</option>
                            <option value="μm">Micrometers (μm)</option>
                            <option value="mm">Millimeters (mm)</option>
                            <option value="cm" selected>Centimeters (cm)</option>
                            <option value="dm">Decimeters (dm)</option>
                            <option value="m">Meters (m)</option>
                            <option value="dam">Decameters (dam)</option>
                            <option value="hm">Hectometers (hm)</option>
                            <option value="km">Kilometers (km)</option>
                            <option value="in">Inches (in)</option>
                            <option value="ft">Feet (ft)</option>
                            <option value="yd">Yards (yd)</option>
                            <option value="mi">Miles (mi)</option>
                            <option value="nmi">Nautical Miles (nmi)</option>
                            <option value="ly">Light Years (ly)</option>
                            <option value="au">Astronomical Units (AU)</option>
                            <option value="pc">Parsecs (pc)</option>
                        </select>
                        <button onclick="convertLength()"><font size="2">Convert</font></button>
                        <span class="result" id="length-result">-</span>
                    </div>
                </div>
            </div>
            
            <!-- Weight Converter -->
            <div class="converter-section">
                <h2>Weight Converter</h2>
                <div class="converter-container">
                    <div class="input-group">
                        <input type="number" id="weight-value" placeholder="Value" step="any">
                        <select id="weight-from">
                            <option value="μg">Micrograms (μg)</option>
                            <option value="mg">Milligrams (mg)</option>
                            <option value="cg">Centigrams (cg)</option>
                            <option value="dg">Decigrams (dg)</option>
                            <option value="g">Grams (g)</option>
                            <option value="dag">Decagrams (dag)</option>
                            <option value="hg">Hectograms (hg)</option>
                            <option value="kg" selected>Kilograms (kg)</option>
                            <option value="t">Metric Tons (t)</option>
                            <option value="oz">Ounces (oz)</option>
                            <option value="lb">Pounds (lb)</option>
                            <option value="st">Stones (st)</option>
                            <option value="ust">US Tons (short ton)</option>
                            <option value="ukt">UK Tons (long ton)</option>
                        </select>
                        <span>to</span>
                        <select id="weight-to">
                            <option value="μg">Micrograms (μg)</option>
                            <option value="mg">Milligrams (mg)</option>
                            <option value="cg">Centigrams (cg)</option>
                            <option value="dg">Decigrams (dg)</option>
                            <option value="g" selected>Grams (g)</option>
                            <option value="dag">Decagrams (dag)</option>
                            <option value="hg">Hectograms (hg)</option>
                            <option value="kg">Kilograms (kg)</option>
                            <option value="t">Metric Tons (t)</option>
                            <option value="oz">Ounces (oz)</option>
                            <option value="lb">Pounds (lb)</option>
                            <option value="st">Stones (st)</option>
                            <option value="ust">US Tons (short ton)</option>
                            <option value="ukt">UK Tons (long ton)</option>
                        </select>
                        <button onclick="convertWeight()"><font size="2">Convert</font></button>
                        <span class="result" id="weight-result">-</span>
                    </div>
                </div>
            </div>
            
            <!-- Volume Converter -->
            <div class="converter-section">
                <h2>Volume Converter</h2>
                <div class="converter-container">
                    <div class="input-group">
                        <input type="number" id="volume-value" placeholder="Value" step="any">
                        <select id="volume-from">
                            <option value="μl">Microliters (μl)</option>
                            <option value="ml">Milliliters (ml)</option>
                            <option value="cl">Centiliters (cl)</option>
                            <option value="dl">Deciliters (dl)</option>
                            <option value="l" selected>Liters (l)</option>
                            <option value="dal">Decaliters (dal)</option>
                            <option value="hl">Hectoliters (hl)</option>
                            <option value="kl">Kiloliters (kl)</option>
                            <option value="m3">Cubic Meters (m³)</option>
                            <option value="tsp">Teaspoons (tsp)</option>
                            <option value="tbsp">Tablespoons (tbsp)</option>
                            <option value="floz">Fluid Ounces (fl oz)</option>
                            <option value="cup">Cups (cup)</option>
                            <option value="pt">Pints (pt)</option>
                            <option value="qt">Quarts (qt)</option>
                            <option value="gal">Gallons (gal)</option>
                            <option value="in3">Cubic Inches (in³)</option>
                            <option value="ft3">Cubic Feet (ft³)</option>
                            <option value="yd3">Cubic Yards (yd³)</option>
                        </select>
                        <span>to</span>
                        <select id="volume-to">
                            <option value="μl">Microliters (μl)</option>
                            <option value="ml" selected>Milliliters (ml)</option>
                            <option value="cl">Centiliters (cl)</option>
                            <option value="dl">Deciliters (dl)</option>
                            <option value="l">Liters (l)</option>
                            <option value="dal">Decaliters (dal)</option>
                            <option value="hl">Hectoliters (hl)</option>
                            <option value="kl">Kiloliters (kl)</option>
                            <option value="m3">Cubic Meters (m³)</option>
                            <option value="tsp">Teaspoons (tsp)</option>
                            <option value="tbsp">Tablespoons (tbsp)</option>
                            <option value="floz">Fluid Ounces (fl oz)</option>
                            <option value="cup">Cups (cup)</option>
                            <option value="pt">Pints (pt)</option>
                            <option value="qt">Quarts (qt)</option>
                            <option value="gal">Gallons (gal)</option>
                            <option value="in3">Cubic Inches (in³)</option>
                            <option value="ft3">Cubic Feet (ft³)</option>
                            <option value="yd3">Cubic Yards (yd³)</option>
                        </select>
                        <button onclick="convertVolume()"><font size="2">Convert</font></button>
                        <span class="result" id="volume-result">-</span>
                    </div>
                </div>
            </div>
            
            <!-- Area Converter -->
            <div class="converter-section">
                <h2>Area Converter</h2>
                <div class="converter-container">
                    <div class="input-group">
                        <input type="number" id="area-value" placeholder="Value" step="any">
                        <select id="area-from">
                            <option value="mm2">Square Millimeters (mm²)</option>
                            <option value="cm2">Square Centimeters (cm²)</option>
                            <option value="m2" selected>Square Meters (m²)</option>
                            <option value="ha">Hectares (ha)</option>
                            <option value="km2">Square Kilometers (km²)</option>
                            <option value="in2">Square Inches (in²)</option>
                            <option value="ft2">Square Feet (ft²)</option>
                            <option value="yd2">Square Yards (yd²)</option>
                            <option value="ac">Acres (ac)</option>
                            <option value="mi2">Square Miles (mi²)</option>
                        </select>
                        <span>to</span>
                        <select id="area-to">
                            <option value="mm2">Square Millimeters (mm²)</option>
                            <option value="cm2" selected>Square Centimeters (cm²)</option>
                            <option value="m2">Square Meters (m²)</option>
                            <option value="ha">Hectares (ha)</option>
                            <option value="km2">Square Kilometers (km²)</option>
                            <option value="in2">Square Inches (in²)</option>
                            <option value="ft2">Square Feet (ft²)</option>
                            <option value="yd2">Square Yards (yd²)</option>
                            <option value="ac">Acres (ac)</option>
                            <option value="mi2">Square Miles (mi²)</option>
                        </select>
                        <button onclick="convertArea()"><font size="2">Convert</font></button>
                        <span class="result" id="area-result">-</span>
                    </div>
                </div>
            </div>
            
            <!-- Temperature Converter -->
            <div class="converter-section">
                <h2>Temperature Converter</h2>
                <div class="converter-container">
                    <div class="input-group">
                        <input type="number" id="temp-value" placeholder="Value" step="any">
                        <select id="temp-from">
                            <option value="c" selected>Celsius (°C)</option>
                            <option value="f">Fahrenheit (°F)</option>
                            <option value="k">Kelvin (K)</option>
                            <option value="r">Rankine (°R)</option>
                        </select>
                        <span>to</span>
                        <select id="temp-to">
                            <option value="c">Celsius (°C)</option>
                            <option value="f" selected>Fahrenheit (°F)</option>
                            <option value="k">Kelvin (K)</option>
                            <option value="r">Rankine (°R)</option>
                        </select>
                        <button onclick="convertTemperature()"><font size="2">Convert</font></button>
                        <span class="result" id="temp-result">-</span>
                    </div>
                </div>
            </div>
            
            <!-- Pressure Converter -->
            <div class="converter-section">
                <h2>Pressure Converter</h2>
                <div class="converter-container">
                    <div class="input-group">
                        <input type="number" id="pressure-value" placeholder="Value" step="any">
                        <select id="pressure-from">
                            <option value="pa">Pascals (Pa)</option>
                            <option value="kpa" selected>Kilopascals (kPa)</option>
                            <option value="mpa">Megapascals (MPa)</option>
                            <option value="bar">Bar (bar)</option>
                            <option value="mbar">Millibar (mbar)</option>
                            <option value="atm">Atmospheres (atm)</option>
                            <option value="mmhg">mmHg (mm Hg)</option>
                            <option value="inhg">inHg (in Hg)</option>
                            <option value="psi">PSI (lb/in²)</option>
                            <option value="psf">PSF (lb/ft²)</option>
                        </select>
                        <span>to</span>
                        <select id="pressure-to">
                            <option value="pa">Pascals (Pa)</option>
                            <option value="kpa">Kilopascals (kPa)</option>
                            <option value="mpa">Megapascals (MPa)</option>
                            <option value="bar" selected>Bar (bar)</option>
                            <option value="mbar">Millibar (mbar)</option>
                            <option value="atm">Atmospheres (atm)</option>
                            <option value="mmhg">mmHg (mm Hg)</option>
                            <option value="inhg">inHg (in Hg)</option>
                            <option value="psi">PSI (lb/in²)</option>
                            <option value="psf">PSF (lb/ft²)</option>
                        </select>
                        <button onclick="convertPressure()"><font size="2">Convert</font></button>
                        <span class="result" id="pressure-result">-</span>
                    </div>
                </div>
            </div>
            
            <!-- Flow Converter -->
            <div class="converter-section">
                <h2>Flow Rate Converter</h2>
                <div class="converter-container">
                    <div class="input-group">
                        <input type="number" id="flow-value" placeholder="Value" step="any">
                        <select id="flow-from">
                            <option value="lps">Liters per second (l/s)</option>
                            <option value="lpm" selected>Liters per minute (l/min)</option>
                            <option value="lph">Liters per hour (l/h)</option>
                            <option value="m3ps">Cubic meters per second (m³/s)</option>
                            <option value="m3pm">Cubic meters per minute (m³/min)</option>
                            <option value="m3ph">Cubic meters per hour (m³/h)</option>
                            <option value="mlps">Milliliters per second (ml/s)</option>
                            <option value="mlpm">Milliliters per minute (ml/min)</option>
                            <option value="mlph">Milliliters per hour (ml/h)</option>
                            <option value="gps">Gallons per second (gal/s)</option>
                            <option value="gpm">Gallons per minute (gal/min)</option>
                            <option value="gph">Gallons per hour (gal/h)</option>
                            <option value="cfm">Cubic feet per minute (ft³/min)</option>
                            <option value="cfh">Cubic feet per hour (ft³/h)</option>
                        </select>
                        <span>to</span>
                        <select id="flow-to">
                            <option value="lps">Liters per second (l/s)</option>
                            <option value="lpm">Liters per minute (l/min)</option>
                            <option value="lph" selected>Liters per hour (l/h)</option>
                            <option value="m3ps">Cubic meters per second (m³/s)</option>
                            <option value="m3pm">Cubic meters per minute (m³/min)</option>
                            <option value="m3ph">Cubic meters per hour (m³/h)</option>
                            <option value="mlps">Milliliters per second (ml/s)</option>
                            <option value="mlpm">Milliliters per minute (ml/min)</option>
                            <option value="mlph">Milliliters per hour (ml/h)</option>
                            <option value="gps">Gallons per second (gal/s)</option>
                            <option value="gpm">Gallons per minute (gal/min)</option>
                            <option value="gph">Gallons per hour (gal/h)</option>
                            <option value="cfm">Cubic feet per minute (ft³/min)</option>
                            <option value="cfh">Cubic feet per hour (ft³/h)</option>
                        </select>
                        <button onclick="convertFlow()"><font size="2">Convert</font></button>
                        <span class="result" id="flow-result">-</span>
                    </div>
                </div>
            </div>
            
            <!-- Energy Converter -->
            <div class="converter-section">
                <h2>Energy Converter</h2>
                <div class="converter-container">
                    <div class="input-group">
                        <input type="number" id="energy-value" placeholder="Value" step="any">
                        <select id="energy-from">
                            <option value="j">Joules (J)</option>
                            <option value="kj">Kilojoules (kJ)</option>
                            <option value="mj">Megajoules (MJ)</option>
                            <option value="cal">Calories (cal)</option>
                            <option value="kcal">Kilocalories (kcal)</option>
                            <option value="wh">Watt-hours (Wh)</option>
                            <option value="kwh" selected>Kilowatt-hours (kWh)</option>
                            <option value="mwh">Megawatt-hours (MWh)</option>
                            <option value="btu">British Thermal Units (BTU)</option>
                            <option value="mmbtu">Million BTU (MMBTU)</option>
                            <option value="ftlb">Foot-pounds (ft·lb)</option>
                            <option value="ev">Electronvolts (eV)</option>
                            <option value="kev">Kiloelectronvolts (keV)</option>
                            <option value="mev">Megaelectronvolts (MeV)</option>
                            <option value="gev">Gigaelectronvolts (GeV)</option>
                            <option value="tep">Tonnes of oil equivalent (toe)</option>
                            <option value="tce">Tonnes of coal equivalent (tce)</option>
                        </select>
                        <span>to</span>
                        <select id="energy-to">
                            <option value="j">Joules (J)</option>
                            <option value="kj">Kilojoules (kJ)</option>
                            <option value="mj">Megajoules (MJ)</option>
                            <option value="cal">Calories (cal)</option>
                            <option value="kcal" selected>Kilocalories (kcal)</option>
                            <option value="wh">Watt-hours (Wh)</option>
                            <option value="kwh">Kilowatt-hours (kWh)</option>
                            <option value="mwh">Megawatt-hours (MWh)</option>
                            <option value="btu">British Thermal Units (BTU)</option>
                            <option value="mmbtu">Million BTU (MMBTU)</option>
                            <option value="ftlb">Foot-pounds (ft·lb)</option>
                            <option value="ev">Electronvolts (eV)</option>
                            <option value="kev">Kiloelectronvolts (keV)</option>
                            <option value="mev">Megaelectronvolts (MeV)</option>
                            <option value="gev">Gigaelectronvolts (GeV)</option>
                            <option value="tep">Tonnes of oil equivalent (toe)</option>
                            <option value="tce">Tonnes of coal equivalent (tce)</option>
                        </select>
                        <button onclick="convertEnergy()"><font size="2">Convert</font></button>
                        <span class="result" id="energy-result">-</span>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script>
        // Counter for additional calculators
        let calculatorCount = 2;

        // Function to create a new calculator
        function createCalculator() {
            calculatorCount++;
            const newCalculatorId = calculatorCount;
            
            const calculatorHTML = `
                <div class="calculation-group">
                    <div class="expression-container">
                        <label for="inputField${newCalculatorId}"><font size="3"><b><i>Calculator:</i></b></font></label>
                        <input type="text" class="result-input" id="resultField${newCalculatorId}" placeholder="Result variable name">
                        <input type="text" placeholder="Notes">
                    </div>
                    <input type="text" id="inputField${newCalculatorId}" placeholder="e.g., x! + y * sin(z) + log2(a) + b - c + d - e + f + g" style="height: 30px;">
                    <label for="outputField${newCalculatorId}"><font size="2" color="#FF0000"><b>Result:</b></font></label>
                    <output id="outputField${newCalculatorId}">0</output>
                </div>
            `;
            
            // Insert the new calculator before the "Add More Calculators" button
            const container = document.getElementById('calculatorsContainer');
            const newCalculator = document.createElement('div');
            newCalculator.innerHTML = calculatorHTML;
            container.appendChild(newCalculator);
            
            // Get references to the new elements
            const inputField = document.getElementById(`inputField${newCalculatorId}`);
            const outputField = document.getElementById(`outputField${newCalculatorId}`);
            const resultField = document.getElementById(`resultField${newCalculatorId}`);
            
            // Add event listeners to the new calculator
            inputField.addEventListener('input', function() {
                evaluateExpression(inputField.value, outputField, resultField);
            });
            
            resultField.addEventListener('input', function() {
                updateVariables();
                evaluateAllCalculators();
            });
        }

        // Function to evaluate all calculators
        function evaluateAllCalculators() {
            for (let i = 1; i <= calculatorCount; i++) {
                const inputField = document.getElementById(`inputField${i}`);
                const outputField = document.getElementById(`outputField${i}`);
                const resultField = document.getElementById(`resultField${i}`);
                if (inputField && outputField && resultField) {
                    evaluateExpression(inputField.value, outputField, resultField);
                }
            }
        }

        // Add event listener to the "Add More Calculators" button
        document.getElementById('addCalculatorBtn').addEventListener('click', createCalculator);

        // Add event listener for the unit converter button
        document.getElementById('unitConverterBtn').addEventListener('click', function() {
            // Open unit converter in a new window
            window.open('unitconverter.html', 'UnitConverter', 'width=800,height=800,scrollbars=yes');
        });

        // Get references to the input fields and output fields
        const variableNameInputs = [
            document.getElementById('variableName1'),
            document.getElementById('variableName2'),
            document.getElementById('variableName3'),
            document.getElementById('variableName4'),
            document.getElementById('variableName5'),
            document.getElementById('variableName6'),
            document.getElementById('variableName7'),
            document.getElementById('variableName8'),
            document.getElementById('variableName9'),
            document.getElementById('variableName10')
        ];

        const variableValueInputs = [
            document.getElementById('variableValue1'),
            document.getElementById('variableValue2'),
            document.getElementById('variableValue3'),
            document.getElementById('variableValue4'),
            document.getElementById('variableValue5'),
            document.getElementById('variableValue6'),
            document.getElementById('variableValue7'),
            document.getElementById('variableValue8'),
            document.getElementById('variableValue9'),
            document.getElementById('variableValue10')
        ];

        const inputField1 = document.getElementById('inputField1');
        const outputField1 = document.getElementById('outputField1');
        const resultField1 = document.getElementById('resultField1');
        const inputField2 = document.getElementById('inputField2');
        const outputField2 = document.getElementById('outputField2');
        const resultField2 = document.getElementById('resultField2');
        const notesField = document.getElementById('notesField');

        // Object to store user-defined variables
        let variables = {};

        // Function to update variables
        function updateVariables() {
            // Clear existing variables
            variables = {};

            // Update regular variables
            for (let i = 0; i < variableNameInputs.length; i++) {
                const name = variableNameInputs[i].value.trim();
                const value = parseFloat(variableValueInputs[i].value.trim());
                if (name && !isNaN(value)) {
                    variables[name] = value;
                }
            }
            
            // Update result variables from all calculators
            for (let i = 1; i <= calculatorCount; i++) {
                const resultField = document.getElementById(`resultField${i}`);
                const outputField = document.getElementById(`outputField${i}`);
                if (resultField && outputField) {
                    const resultName = resultField.value.trim();
                    const resultValue = parseFloat(outputField.textContent);
                    if (resultName && !isNaN(resultValue)) {
                        variables[resultName] = resultValue;
                    }
                }
            }
        }

        // Function to replace variable names and constants with their values
        function replaceVariables(expression) {
            // Replace pi with Math.PI
            expression = expression.replace(/\bpi\b/g, Math.PI);

            // Replace g with 9.8 (acceleration due to gravity)
            expression = expression.replace(/\bg\b/g, 9.8);

            // Replace variable names with their values
            for (const [name, value] of Object.entries(variables)) {
                const regex = new RegExp(`\\b${name}\\b`, 'g');
                expression = expression.replace(regex, value);
            }
            return expression;
        }

        // Function to calculate factorial
        function factorial(n) {
            if (n === 0 || n === 1) return 1;
            let result = 1;
            for (let i = 2; i <= n; i++) {
                result *= i;
            }
            return result;
        }

        // Function to convert degrees to radians
        function toRadians(degrees) {
            return degrees * (Math.PI / 180);
        }

        // Function to convert radians to degrees
        function toDegrees(radians) {
            return radians * (180 / Math.PI);
        }

        // Function to replace logx(y) with the appropriate JavaScript expression
        function replaceLogSyntax(expression) {
            // Regular expression to match logx(y) syntax
            const logRegex = /log(\d+|e)\(([^)]+)\)/g;
            return expression.replace(logRegex, (match, base, y) => {
                if (base === 'e') {
                    // Natural logarithm (base e)
                    return `Math.log(${y})`;
                } else {
                    // Logarithm with custom base using the change of base formula
                    return `(Math.log(${y}) / Math.log(${base}))`;
                }
            });
        }

        // Function to replace trigonometric functions with their evaluated values
        function replaceTrigFunctions(expression) {
            // Replace sin(x) with Math.sin(toRadians(x))
            expression = expression.replace(/sin\(([^)]+)\)/g, (match, x) => {
                return `Math.sin(toRadians(${x}))`;
            });
            // Replace cos(x) with Math.cos(toRadians(x))
            expression = expression.replace(/cos\(([^)]+)\)/g, (match, x) => {
                return `Math.cos(toRadians(${x}))`;
            });
            // Replace tan(x) with Math.tan(toRadians(x))
            expression = expression.replace(/tan\(([^)]+)\)/g, (match, x) => {
                return `Math.tan(toRadians(${x}))`;
            });
            // Replace cosec(x) with 1 / Math.sin(toRadians(x))
            expression = expression.replace(/cosec\(([^)]+)\)/g, (match, x) => {
                return `(1 / Math.sin(toRadians(${x})))`;
            });
            // Replace sec(x) with 1 / Math.cos(toRadians(x))
            expression = expression.replace(/sec\(([^)]+)\)/g, (match, x) => {
                return `(1 / Math.cos(toRadians(${x})))`;
            });
            // Replace cot(x) with 1 / Math.tan(toRadians(x))
            expression = expression.replace(/cot\(([^)]+)\)/g, (match, x) => {
                return `(1 / Math.tan(toRadians(${x})))`;
            });
            return expression;
        }

        // Function to replace inverse trigonometric functions with their evaluated values
        function replaceInverseTrigFunctions(expression) {
            // Replace sin-1(x) with toDegrees(Math.asin(x))
            expression = expression.replace(/sin-1\(([^)]+)\)/g, (match, x) => {
                return `toDegrees(Math.asin(${x}))`;
            });
            // Replace cos-1(x) with toDegrees(Math.acos(x))
            expression = expression.replace(/cos-1\(([^)]+)\)/g, (match, x) => {
                return `toDegrees(Math.acos(${x}))`;
            });
            // Replace tan-1(x) with toDegrees(Math.atan(x))
            expression = expression.replace(/tan-1\(([^)]+)\)/g, (match, x) => {
                return `toDegrees(Math.atan(${x}))`;
            });
            // Replace cosec-1(x) with toDegrees(Math.asin(1 / x))
            expression = expression.replace(/cosec-1\(([^)]+)\)/g, (match, x) => {
                return `toDegrees(Math.asin(1 / ${x}))`;
            });
            // Replace sec-1(x) with toDegrees(Math.acos(1 / x))
            expression = expression.replace(/sec-1\(([^)]+)\)/g, (match, x) => {
                return `toDegrees(Math.acos(1 / ${x}))`;
            });
            // Replace cot-1(x) with toDegrees(Math.atan(1 / x))
            expression = expression.replace(/cot-1\(([^)]+)\)/g, (match, x) => {
                return `toDegrees(Math.atan(1 / ${x}))`;
            });
            return expression;
        }

        // Function to replace factorial syntax (x!) with the factorial function call
        function replaceFactorialSyntax(expression) {
            // Regular expression to match x! syntax
            const factorialRegex = /(\d+)!/g;
            return expression.replace(factorialRegex, (match, x) => {
                return `factorial(${x})`;
            });
        }

        // Function to evaluate a mathematical expression
        function evaluateExpression(expression, outputField, resultField) {
            try {
                // Update variables when the calculation input changes
                updateVariables();

                // Replace variable names and constants with their values
                expression = replaceVariables(expression);

                // Replace the ^ symbol with ** for exponentiation
                expression = expression.replace(/\^/g, '**');
                // Replace the letter 'e' with Math.E (Euler's constant)
                expression = expression.replace(/\be\b/g, Math.E);
                // Replace logx(y) syntax with the appropriate JavaScript expression
                expression = replaceLogSyntax(expression);
                // Replace trigonometric functions with their evaluated values
                expression = replaceTrigFunctions(expression);
                // Replace inverse trigonometric functions with their evaluated values
                expression = replaceInverseTrigFunctions(expression);
                // Replace factorial syntax (x!) with the factorial function call
                expression = replaceFactorialSyntax(expression);
                // Evaluate the mathematical expression
                const result = eval(expression);
                // Update the output field with the result
                outputField.textContent = result;
                
                // If the result field has a name, update variables with the new value
                updateVariables();
            } catch (error) {
                // If there's an error (e.g., invalid input), display an error message
                outputField.textContent = 'Invalid Expression';
            }
        }

        // Add event listeners to the input fields
        inputField1.addEventListener('input', function () {
            evaluateExpression(inputField1.value, outputField1, resultField1);
        });

        inputField2.addEventListener('input', function () {
            evaluateExpression(inputField2.value, outputField2, resultField2);
        });

        // Add event listeners to all variable value fields
        variableValueInputs.forEach(input => {
            input.addEventListener('input', function () {
                // Re-evaluate all calculators when a variable value changes
                evaluateAllCalculators();
            });
        });
        
        // Add event listeners to result fields to update variables when they change
        resultField1.addEventListener('input', function() {
            updateVariables();
            evaluateAllCalculators();
        });
        
        resultField2.addEventListener('input', function() {
            updateVariables();
            evaluateAllCalculators();
        });


  // Unit Converter Functions
        function showUnitConverter() {
            document.getElementById('unitConverterModal').style.display = 'block';
        }

        function closeUnitConverter() {
            document.getElementById('unitConverterModal').style.display = 'none';
        }

        // Length conversion factors (to meters)
        const lengthFactors = {
            pm: 1e-12, nm: 1e-9, μm: 1e-6, mm: 0.001, cm: 0.01, 
            dm: 0.1, m: 1, dam: 10, hm: 100, km: 1000,
            in: 0.0254, ft: 0.3048, yd: 0.9144, mi: 1609.344,
            nmi: 1852, ly: 9.461e+15, au: 1.496e+11, pc: 3.086e+16
        };

        // Weight conversion factors (to kilograms)
        const weightFactors = {
            μg: 1e-9, mg: 0.000001, cg: 0.00001, dg: 0.0001,
            g: 0.001, dag: 0.01, hg: 0.1, kg: 1, t: 1000,
            oz: 0.0283495, lb: 0.453592, st: 6.35029,
            ust: 907.185, ukt: 1016.05
        };

        // Volume conversion factors (to liters)
        const volumeFactors = {
            μl: 0.000001, ml: 0.001, cl: 0.01, dl: 0.1,
            l: 1, dal: 10, hl: 100, kl: 1000, m3: 1000,
            tsp: 0.00492892, tbsp: 0.0147868, floz: 0.0295735,
            cup: 0.236588, pt: 0.473176, qt: 0.946353,
            gal: 3.78541, in3: 0.0163871, ft3: 28.3168, yd3: 764.555
        };

        // Area conversion factors (to square meters)
        const areaFactors = {
            mm2: 0.000001, cm2: 0.0001, m2: 1, ha: 10000,
            km2: 1000000, in2: 0.00064516, ft2: 0.092903,
            yd2: 0.836127, ac: 4046.86, mi2: 2589988.11
        };

        // Pressure conversion factors (to pascals)
        const pressureFactors = {
            pa: 1, kpa: 1000, mpa: 1000000, bar: 100000,
            mbar: 100, atm: 101325, mmhg: 133.322,
            inhg: 3386.39, psi: 6894.76, psf: 47.8803
        };

        // Flow conversion factors (to liters per second)
        const flowFactors = {
            lps: 1, lpm: 1/60, lph: 1/3600, m3ps: 1000,
            m3pm: 1000/60, m3ph: 1000/3600, mlps: 0.001,
            mlpm: 0.001/60, mlph: 0.001/3600, gps: 3.78541,
            gpm: 3.78541/60, gph: 3.78541/3600, cfm: 28.3168/60,
            cfh: 28.3168/3600
        };

        // Energy conversion factors (to joules)
        const energyFactors = {
            j: 1, kj: 1000, mj: 1000000, cal: 4.184,
            kcal: 4184, wh: 3600, kwh: 3600000,
            mwh: 3600000000, btu: 1055.06, mmbtu: 1055056000,
            ftlb: 1.35582, ev: 1.60218e-19, kev: 1.60218e-16,
            mev: 1.60218e-13, gev: 1.60218e-10, tep: 41868000000,
            tce: 29307600000
        };

        function convertLength() {
            const value = parseFloat(document.getElementById('length-value').value);
            const fromUnit = document.getElementById('length-from').value;
            const toUnit = document.getElementById('length-to').value;
            
            if (isNaN(value)) {
                document.getElementById('length-result').textContent = 'Invalid input';
                return;
            }
            
            const meters = value * lengthFactors[fromUnit];
            const result = meters / lengthFactors[toUnit];
            document.getElementById('length-result').textContent = result.toFixed(6);
        }

        function convertWeight() {
            const value = parseFloat(document.getElementById('weight-value').value);
            const fromUnit = document.getElementById('weight-from').value;
            const toUnit = document.getElementById('weight-to').value;
            
            if (isNaN(value)) {
                document.getElementById('weight-result').textContent = 'Invalid input';
                return;
            }
            
            const kg = value * weightFactors[fromUnit];
            const result = kg / weightFactors[toUnit];
            document.getElementById('weight-result').textContent = result.toFixed(6);
        }

        function convertVolume() {
            const value = parseFloat(document.getElementById('volume-value').value);
            const fromUnit = document.getElementById('volume-from').value;
            const toUnit = document.getElementById('volume-to').value;
            
            if (isNaN(value)) {
                document.getElementById('volume-result').textContent = 'Invalid input';
                return;
            }
            
            const liters = value * volumeFactors[fromUnit];
            const result = liters / volumeFactors[toUnit];
            document.getElementById('volume-result').textContent = result.toFixed(6);
        }

        function convertArea() {
            const value = parseFloat(document.getElementById('area-value').value);
            const fromUnit = document.getElementById('area-from').value;
            const toUnit = document.getElementById('area-to').value;
            
            if (isNaN(value)) {
                document.getElementById('area-result').textContent = 'Invalid input';
                return;
            }
            
            const m2 = value * areaFactors[fromUnit];
            const result = m2 / areaFactors[toUnit];
            document.getElementById('area-result').textContent = result.toFixed(6);
        }

        function convertTemperature() {
            const value = parseFloat(document.getElementById('temp-value').value);
            const fromUnit = document.getElementById('temp-from').value;
            const toUnit = document.getElementById('temp-to').value;
            
            if (isNaN(value)) {
                document.getElementById('temp-result').textContent = 'Invalid input';
                return;
            }
            
            let celsius;
            switch(fromUnit) {
                case 'c': celsius = value; break;
                case 'f': celsius = (value - 32) * 5/9; break;
                case 'k': celsius = value - 273.15; break;
                case 'r': celsius = (value - 491.67) * 5/9; break;
            }
            
            let result;
            switch(toUnit) {
                case 'c': result = celsius; break;
                case 'f': result = celsius * 9/5 + 32; break;
                case 'k': result = celsius + 273.15; break;
                case 'r': result = (celsius + 273.15) * 9/5; break;
            }
            
            document.getElementById('temp-result').textContent = result.toFixed(6);
        }

        function convertPressure() {
            const value = parseFloat(document.getElementById('pressure-value').value);
            const fromUnit = document.getElementById('pressure-from').value;
            const toUnit = document.getElementById('pressure-to').value;
            
            if (isNaN(value)) {
                document.getElementById('pressure-result').textContent = 'Invalid input';
                return;
            }
            
            const pascals = value * pressureFactors[fromUnit];
            const result = pascals / pressureFactors[toUnit];
            document.getElementById('pressure-result').textContent = result.toFixed(6);
        }

        function convertFlow() {
            const value = parseFloat(document.getElementById('flow-value').value);
            const fromUnit = document.getElementById('flow-from').value;
            const toUnit = document.getElementById('flow-to').value;
            
            if (isNaN(value)) {
                document.getElementById('flow-result').textContent = 'Invalid input';
                return;
            }
            
            const lps = value * flowFactors[fromUnit];
            const result = lps / flowFactors[toUnit];
            document.getElementById('flow-result').textContent = result.toFixed(6);
        }

        function convertEnergy() {
            const value = parseFloat(document.getElementById('energy-value').value);
            const fromUnit = document.getElementById('energy-from').value;
            const toUnit = document.getElementById('energy-to').value;
            
            if (isNaN(value)) {
                document.getElementById('energy-result').textContent = 'Invalid input';
                return;
            }
            
            const joules = value * energyFactors[fromUnit];
            const result = joules / energyFactors[toUnit];
            document.getElementById('energy-result').textContent = result.toFixed(6);
        }


    </script>
</body>
</html>
